# Why Eval was skipped

Evolution was skipped mainly becasue of time and money constraint. The steps, cost and other stuff related to the evaluations are detailed below.

## Evaluation is expensive
Ground truth is required to evaluate with your RAG. Ground truth usually is done by multiple humans. For a query a result is shown to a human and they decide on what is the truth is i.e. mark the chunk as relevant or not. The alternative is to use LLM as a judge given a query. The LLM(could be same or different) is given a query and its told to score or simply tell if a chunk is relevant or not. This also could be a group of small LLM (ex. Lamma 3.1 8b, Gemma, Mistral etc) voting on relevance and then pick the max vote.

 - `generate_samples_for_questions.py`  
 This file reads one, two or
   three consecutive chapters and combines them for content to be read
   by LLM and generate questions.
   
 - `generate_questions.py` 
 This file reads the random combinations of chapters and generate different types of questions.
 
	 - factual
	 - moral
	 - summary
	 - casual
	 - procedural
	 - temporal
	 - spatial
	 - motivational
	 - realationship
	 - dialogue
	
	Initially about 800 questions were generated by Lamma 3.1 8b. Questions were than handpicked to about 100.


### Methods treid to generate Ground truth
We have about 100 questions and 7.5k (x2)  chunks (we have clean and enriched chunk as described in project readme file)
1. **Cross encoders**: This would take days
2. **LLMs as judge**: Lamma 3.1 8b, Gemma 2.9, Mistral also would take more than a week
3. **LLM as judge**: Only Lamma 3.1 8b would take days to judge ground truth
4. **Open AI as Judge**: This was not time intensive but cost intensive. Open AI has batch API which costs about half of regular. 
100 x 7.5k pairs need to be judged by Open AI model. The limit for new user is about 2 mill tokens per batch. On average I could only pass about 2000 pairs for GPT4 mini. Single file cost me around USD $0.06. Total file count is around 370. So the approx cost of generating ground truth is about USD $22.44. 

   
